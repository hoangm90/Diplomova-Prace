{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Downloads\\\\diplom1\\\\react_diplom\\\\src\\\\reports\\\\ReportLessonHelper.js\",\n    _s = $RefreshSig$();\n\nimport classes from \"./ReportLesson.module.css\";\nimport UpdateLesson from \"../formUpdates/UpdateLesson\";\nimport { useEffect, useRef, useState, useCallback } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ReportLessonHelper(props) {\n  _s();\n\n  let lessons = props.data;\n  const [result, setResult] = useState(null);\n  const finalTable = useRef(null);\n  const showLesson = useCallback(lesson => {\n    setResult([/*#__PURE__*/_jsxDEV(UpdateLesson, {\n      lesson: lesson,\n      groups: props.groups,\n      teachers: props.teachers,\n      classrooms: props.classrooms\n    }, lesson[\"lesson_id\"], false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 20\n    }, this), finalTable.current]);\n  }, [props.groups, props.teachers, props.classrooms]);\n  useEffect(() => {\n    let rowsForTable = [];\n    let newRow = [];\n\n    for (let i = 0; i < lessons.length; i++) {\n      if (i % 5 === 0) {\n        newRow = [];\n      }\n\n      let childtable = [];\n\n      for (let j = 0; j < lessons[i].length; j++) {\n        let lesson = lessons[i][j];\n        let item = [];\n        item.push( /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: lesson[\"subject_name\"]\n        }, \"subject\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 27\n        }, this));\n        item.push( /*#__PURE__*/_jsxDEV(\"br\", {}, \"s\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 27\n        }, this));\n        item.push( /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: lesson[\"topic_name\"]\n        }, \"topic\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 27\n        }, this));\n        item.push( /*#__PURE__*/_jsxDEV(\"br\", {}, \"t\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 27\n        }, this));\n        item.push( /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: lesson[\"time\"]\n        }, \"time\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 27\n        }, this));\n\n        if (lesson[\"teachers\"].length > 0) {\n          item.push( /*#__PURE__*/_jsxDEV(\"br\", {}, \"te\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 31\n          }, this));\n          item.push( /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Teachers:\"\n          }, \"teacher\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 31\n          }, this));\n          item.push( /*#__PURE__*/_jsxDEV(\"br\", {}, \"tes\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 31\n          }, this));\n          item.push(lesson[\"teachers\"][0]);\n\n          for (let k = 1; k < lesson[\"teachers\"].length; k++) {\n            item.push(\", \");\n            item.push(lesson[\"teachers\"][k]);\n          }\n        }\n\n        if (lesson[\"groups\"].length > 0) {\n          item.push( /*#__PURE__*/_jsxDEV(\"br\", {}, \"gr\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 31\n          }, this));\n          item.push( /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Groups:\"\n          }, \"group\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 31\n          }, this));\n          item.push( /*#__PURE__*/_jsxDEV(\"br\", {}, \"grs\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 31\n          }, this));\n          item.push(lesson[\"groups\"][0]);\n\n          for (let k = 1; k < lesson[\"groups\"].length; k++) {\n            item.push(\", \");\n            item.push(lesson[\"groups\"][k]);\n          }\n        }\n\n        item.push( /*#__PURE__*/_jsxDEV(\"br\", {}, \"cl\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 27\n        }, this));\n        item.push( /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Classroom:\"\n        }, \"classroom\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 27\n        }, this));\n        item.push( /*#__PURE__*/_jsxDEV(\"br\", {}, \"cls\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 27\n        }, this));\n        item.push(lesson[\"chosen_classroom\"]);\n        childtable.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n          onClick: () => showLesson(lesson),\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item\n          }, j, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 80\n          }, this)\n        }, j, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 33\n        }, this));\n      }\n\n      if (lessons[i].length === 0) {\n        childtable = /*#__PURE__*/_jsxDEV(\"table\", {\n          className: classes.noData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 31\n        }, this);\n      } else {\n        childtable = /*#__PURE__*/_jsxDEV(\"table\", {\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: childtable\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 31\n        }, this);\n      }\n\n      if (i % 2 === 0) {\n        newRow.push( /*#__PURE__*/_jsxDEV(\"td\", {\n          className: classes.even,\n          children: childtable\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 29\n        }, this));\n      } else {\n        newRow.push( /*#__PURE__*/_jsxDEV(\"td\", {\n          className: classes.odd,\n          children: childtable\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }, this));\n      }\n\n      if (i % 5 === 4 || i === lessons.length - 1) {\n        rowsForTable.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: newRow\n        }, (i - i % 5) / 5, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 35\n        }, this));\n      }\n    }\n\n    finalTable.current = /*#__PURE__*/_jsxDEV(\"table\", {\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: rowsForTable\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 38\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 31\n    }, this);\n    setResult(finalTable.current);\n  }, [lessons, showLesson]);\n  return result;\n}\n\n_s(ReportLessonHelper, \"/jnV4X1XDBAF7aOl6ws21JkEfUE=\");\n\n_c = ReportLessonHelper;\nexport default ReportLessonHelper;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReportLessonHelper\");","map":{"version":3,"sources":["C:/Users/Dell/Downloads/diplom1/react_diplom/src/reports/ReportLessonHelper.js"],"names":["classes","UpdateLesson","useEffect","useRef","useState","useCallback","ReportLessonHelper","props","lessons","data","result","setResult","finalTable","showLesson","lesson","groups","teachers","classrooms","current","rowsForTable","newRow","i","length","childtable","j","item","push","k","noData","even","odd"],"mappings":"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","sourcesContent":["import classes from \"./ReportLesson.module.css\";\r\nimport UpdateLesson from \"../formUpdates/UpdateLesson\";\r\nimport { useEffect, useRef, useState, useCallback } from \"react\";\r\n\r\nfunction ReportLessonHelper(props){\r\n    let lessons = props.data;\r\n    const [result, setResult] = useState(null);\r\n    const finalTable = useRef(null);\r\n\r\n    const showLesson = useCallback((lesson) => {\r\n        setResult([<UpdateLesson \r\n                    key={lesson[\"lesson_id\"]} \r\n                    lesson={lesson} \r\n                    groups={props.groups} \r\n                    teachers={props.teachers} \r\n                    classrooms={props.classrooms} \r\n                    />, \r\n                    finalTable.current]);\r\n    }, [props.groups, props.teachers, props.classrooms]);\r\n\r\n    useEffect(() => {\r\n        let rowsForTable = [];\r\n        let newRow = [];\r\n        for(let i=0; i<lessons.length; i++){\r\n            if(i%5 === 0){\r\n                newRow = [];\r\n            }\r\n            let childtable = [];\r\n            for(let j=0; j<lessons[i].length; j++){\r\n                let lesson = lessons[i][j];\r\n                let item = [];\r\n                item.push(<strong key=\"subject\">{lesson[\"subject_name\"]}</strong>);\r\n                item.push(<br key={\"s\"}></br>);\r\n                item.push(<strong key=\"topic\">{lesson[\"topic_name\"]}</strong>);\r\n                item.push(<br key={\"t\"}></br>);\r\n                item.push(<strong key=\"time\">{lesson[\"time\"]}</strong>);\r\n    \r\n                if(lesson[\"teachers\"].length > 0){\r\n                    item.push(<br key={\"te\"}></br>);\r\n                    item.push(<strong key=\"teacher\">Teachers:</strong>);\r\n                    item.push(<br key={\"tes\"}></br>);\r\n                    item.push(lesson[\"teachers\"][0]);\r\n                    for (let k=1; k<lesson[\"teachers\"].length; k++){\r\n                        item.push(\", \");\r\n                        item.push(lesson[\"teachers\"][k]);\r\n                    }\r\n                }\r\n                if(lesson[\"groups\"].length > 0){\r\n                    item.push(<br key={\"gr\"}></br>);\r\n                    item.push(<strong key=\"group\">Groups:</strong>);\r\n                    item.push(<br key={\"grs\"}></br>);\r\n                    item.push(lesson[\"groups\"][0]);\r\n                    for (let k=1; k<lesson[\"groups\"].length; k++){\r\n                        item.push(\", \");\r\n                        item.push(lesson[\"groups\"][k]);\r\n                    }\r\n                }\r\n    \r\n                item.push(<br key={\"cl\"}></br>);\r\n                item.push(<strong key=\"classroom\">Classroom:</strong>);\r\n                item.push(<br key={\"cls\"}></br>);\r\n                item.push(lesson[\"chosen_classroom\"]);\r\n                childtable.push(<tr key={j} onClick={() => showLesson(lesson)}><td key={j}>{item}</td></tr>);\r\n            }\r\n            if(lessons[i].length === 0){\r\n                childtable = (<table className={classes.noData}></table>);\r\n            }\r\n            else{\r\n                childtable = (<table><tbody>{childtable}</tbody></table>);\r\n            }\r\n            if(i%2 === 0){\r\n                newRow.push(<td key={i} className={classes.even}>{childtable}</td>); \r\n            }   \r\n            else{\r\n                newRow.push(<td key={i} className={classes.odd}>{childtable}</td>); \r\n            }       \r\n            if(i%5 === 4 || i === lessons.length-1){\r\n                rowsForTable.push(<tr key={(i-i%5)/5}>{newRow}</tr>);\r\n            }  \r\n        }\r\n        finalTable.current = (<table><tbody>{rowsForTable}</tbody></table>);\r\n        setResult(finalTable.current);\r\n    }, [lessons, showLesson]);\r\n      \r\n    return result;\r\n}\r\n\r\nexport default ReportLessonHelper;"]},"metadata":{},"sourceType":"module"}